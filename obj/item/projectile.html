<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;item&#x2F;projectile - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/item/projectile.html#var">Var Details</a> - <a href="obj/item/projectile.html#proc">Proc Details</a></header>
<main>
<h1>projectile <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/projectile.html">projectile</a></aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L9">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 9"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/item/projectile.html#var/embed_falloff_tile">embed_falloff_tile</a></th><td>How much we want to drop the embed_chance value, if we can embed, per tile, for falloff purposes</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/force_hit">force_hit</a></th><td>If the object being hit can pass ths damage on to something else, it should not do it for this bullet</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/hit_stunned_targets">hit_stunned_targets</a></th><td>If TRUE, hit mobs even if they're on the floor and not our target</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/hitscan_effect_generation">hitscan_effect_generation</a></th><td>Used in generate_hitscan_tracers to determine which &quot;cycle&quot; we're on.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/hitscan_movement_decisecond_equivalency">hitscan_movement_decisecond_equivalency</a></th><td>How many deciseconds are each hitscan movement considered. Used for homing and other things that use seconds for timing rather than ticks.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/homing_turn_speed">homing_turn_speed</a></th><td>How fast the projectile turns towards its homing targets, in angle per second.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/pixel_increment_amount">pixel_increment_amount</a></th><td>The number of pixels we increment by. THIS IS NOT SPEED, DO NOT TOUCH THIS UNLESS YOU KNOW WHAT YOU ARE DOING. In general, lower values means more linetrace accuracy up to a point at cost of performance.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/pixel_move_interrupted">pixel_move_interrupted</a></th><td>Used to detect jumps in the middle of a pixel_move. Yes, this is ugly as sin code-wise but it works.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/pixels_per_second">pixels_per_second</a></th><td>Pixels moved per second.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/pixels_range_leftover">pixels_range_leftover</a></th><td>&quot;leftover&quot; pixels for Range() calculation as pixel_move() was moved to simulated semi-pixel movement and Range() is in tiles.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/pixels_tick_leftover">pixels_tick_leftover</a></th><td>&quot;leftover&quot; tick pixels and stuff yeah, so we don't round off things and introducing tracing inaccuracy.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/range">range</a></th><td>Range of the projectile, de-incrementing every step. The projectile deletes itself at 0. This is in tiles.</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochet_auto_aim_angle">ricochet_auto_aim_angle</a></th><td>On ricochet, if ricochet_auto_aim_range is nonzero, we'll consider any mobs within this range of the normal angle of incidence to home in on, higher = more auto aim</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochet_auto_aim_range">ricochet_auto_aim_range</a></th><td>On ricochet, if nonzero, we consider all mobs within this range of our projectile at the time of ricochet to home in on like Revolver Ocelot, as governed by ricochet_auto_aim_angle</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochet_chance">ricochet_chance</a></th><td>0-100, the base chance of ricocheting, before being modified by the atom we shoot and our chance decay</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochet_decay_chance">ricochet_decay_chance</a></th><td>0-1 (or more, I guess) multiplier, the ricochet_chance is modified by multiplying this after each ricochet</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochet_decay_damage">ricochet_decay_damage</a></th><td>0-1 (or more, I guess) multiplier, the projectile's damage is modified by multiplying this after each ricochet</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochet_incidence_leeway">ricochet_incidence_leeway</a></th><td>the angle of impact must be within this many degrees of the struck surface, set to 0 to allow any angle</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochets">ricochets</a></th><td>how many times we've ricochet'd so far (instance variable, not a stat)</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/ricochets_max">ricochets_max</a></th><td>how many times we can ricochet max</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/sharpness">sharpness</a></th><td>For telling whether we want to roll for bone breaking or lacerations if we're bothering with wounds</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/shrapnel_type">shrapnel_type</a></th><td>If defined, on hit we create an item of this type then call hitby() on the hit target with this, mainly used for embedding items (bullets) in targets</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/wound_falloff_tile">wound_falloff_tile</a></th><td>How much we want to drop both wound_bonus and bare_wound_bonus (to a minimum of 0 for the latter) per tile, for falloff purposes</td></tr>
            <tr><th><a href="obj/item/projectile.html#var/zone_accuracy_factor">zone_accuracy_factor</a></th><td>factor to multiply by for zone accuracy percent.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/item/projectile.html#proc/Range">Range</a></th><td>Artificially modified to be called at around every world.icon_size pixels of movement.
WARNING: Range() can only be called once per pixel_increment_amount pixels.</td></tr>
            <tr><th><a href="obj/item/projectile.html#proc/pixel_move">pixel_move</a></th><td>The proc to make the projectile go, using a simulated pixel movement line trace.
Note: deciseconds_equivalent is currently only used for homing, times is the number of times to move pixel_increment_amount.
Trajectory multiplier directly modifies the factor of pixel_increment_amount to go per time.
It's complicated, so probably just don't mess with this unless you know what you're doing.</td></tr>
            <tr><th><a href="obj/item/projectile.html#proc/return_predicted_turf_after_moves">return_predicted_turf_after_moves</a></th><td>one move is a tile.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/embed_falloff_tile"><aside class="declaration">var </aside>embed_falloff_tile
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L165">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 165"/></a></h3>
        <p>How much we want to drop the embed_chance value, if we can embed, per tile, for falloff purposes</p><h3 id="var/force_hit"><aside class="declaration">var </aside>force_hit
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L79">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 79"/></a></h3>
        <p>If the object being hit can pass ths damage on to something else, it should not do it for this bullet</p><h3 id="var/hit_stunned_targets"><aside class="declaration">var </aside>hit_stunned_targets
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L159">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 159"/></a></h3>
        <p>If TRUE, hit mobs even if they're on the floor and not our target</p><h3 id="var/hitscan_effect_generation"><aside class="declaration">var </aside>hitscan_effect_generation
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L86">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 86"/></a></h3>
        <p>Used in generate_hitscan_tracers to determine which &quot;cycle&quot; we're on.</p><h3 id="var/hitscan_movement_decisecond_equivalency"><aside class="declaration">var </aside>hitscan_movement_decisecond_equivalency
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L119">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 119"/></a></h3>
        <p>How many deciseconds are each hitscan movement considered. Used for homing and other things that use seconds for timing rather than ticks.</p><h3 id="var/homing_turn_speed"><aside class="declaration">var </aside>homing_turn_speed
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L112">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 112"/></a></h3>
        <p>How fast the projectile turns towards its homing targets, in angle per second.</p><h3 id="var/pixel_increment_amount"><aside class="declaration">var </aside>pixel_increment_amount
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L54">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 54"/></a></h3>
        <p>The number of pixels we increment by. THIS IS NOT SPEED, DO NOT TOUCH THIS UNLESS YOU KNOW WHAT YOU ARE DOING. In general, lower values means more linetrace accuracy up to a point at cost of performance.</p><h3 id="var/pixel_move_interrupted"><aside class="declaration">var </aside>pixel_move_interrupted
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L49">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 49"/></a></h3>
        <p>Used to detect jumps in the middle of a pixel_move. Yes, this is ugly as sin code-wise but it works.</p><h3 id="var/pixels_per_second"><aside class="declaration">var </aside>pixels_per_second
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L52">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 52"/></a></h3>
        <p>Pixels moved per second.</p><h3 id="var/pixels_range_leftover"><aside class="declaration">var </aside>pixels_range_leftover
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L45">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 45"/></a></h3>
        <p>&quot;leftover&quot; pixels for Range() calculation as pixel_move() was moved to simulated semi-pixel movement and Range() is in tiles.</p><h3 id="var/pixels_tick_leftover"><aside class="declaration">var </aside>pixels_tick_leftover
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L47">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 47"/></a></h3>
        <p>&quot;leftover&quot; tick pixels and stuff yeah, so we don't round off things and introducing tracing inaccuracy.</p><h3 id="var/range"><aside class="declaration">var </aside>range
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L129">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 129"/></a></h3>
        <p>Range of the projectile, de-incrementing every step. The projectile deletes itself at 0. This is in tiles.</p><h3 id="var/ricochet_auto_aim_angle"><aside class="declaration">var </aside>ricochet_auto_aim_angle
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L74">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 74"/></a></h3>
        <p>On ricochet, if ricochet_auto_aim_range is nonzero, we'll consider any mobs within this range of the normal angle of incidence to home in on, higher = more auto aim</p><h3 id="var/ricochet_auto_aim_range"><aside class="declaration">var </aside>ricochet_auto_aim_range
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L72">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 72"/></a></h3>
        <p>On ricochet, if nonzero, we consider all mobs within this range of our projectile at the time of ricochet to home in on like Revolver Ocelot, as governed by ricochet_auto_aim_angle</p><h3 id="var/ricochet_chance"><aside class="declaration">var </aside>ricochet_chance
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L66">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 66"/></a></h3>
        <p>0-100, the base chance of ricocheting, before being modified by the atom we shoot and our chance decay</p><h3 id="var/ricochet_decay_chance"><aside class="declaration">var </aside>ricochet_decay_chance
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L68">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 68"/></a></h3>
        <p>0-1 (or more, I guess) multiplier, the ricochet_chance is modified by multiplying this after each ricochet</p><h3 id="var/ricochet_decay_damage"><aside class="declaration">var </aside>ricochet_decay_damage
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L70">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 70"/></a></h3>
        <p>0-1 (or more, I guess) multiplier, the projectile's damage is modified by multiplying this after each ricochet</p><h3 id="var/ricochet_incidence_leeway"><aside class="declaration">var </aside>ricochet_incidence_leeway
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L76">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 76"/></a></h3>
        <p>the angle of impact must be within this many degrees of the struck surface, set to 0 to allow any angle</p><h3 id="var/ricochets"><aside class="declaration">var </aside>ricochets
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L62">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 62"/></a></h3>
        <p>how many times we've ricochet'd so far (instance variable, not a stat)</p><h3 id="var/ricochets_max"><aside class="declaration">var </aside>ricochets_max
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 64"/></a></h3>
        <p>how many times we can ricochet max</p><h3 id="var/sharpness"><aside class="parent"><a title="/obj/item" href="obj/item.html#var/sharpness">&uarr;</a></aside>sharpness
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L167">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 167"/></a></h3>
        <p>For telling whether we want to roll for bone breaking or lacerations if we're bothering with wounds</p><h3 id="var/shrapnel_type"><aside class="declaration">var </aside>shrapnel_type
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L157">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 157"/></a></h3>
        <p>If defined, on hit we create an item of this type then call hitby() on the hit target with this, mainly used for embedding items (bullets) in targets</p><h3 id="var/wound_falloff_tile"><aside class="declaration">var </aside>wound_falloff_tile
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L163">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 163"/></a></h3>
        <p>How much we want to drop both wound_bonus and bare_wound_bonus (to a minimum of 0 for the latter) per tile, for falloff purposes</p><h3 id="var/zone_accuracy_factor"><aside class="declaration">var </aside>zone_accuracy_factor
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L135">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 135"/></a></h3>
        <p>factor to multiply by for zone accuracy percent.</p><h2 id="proc">Proc Details</h2><h3 id="proc/Range"><aside class="declaration">proc </aside>Range<aside>() 
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L180">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 180"/></a></aside>
        </h3>
        <p>Artificially modified to be called at around every world.icon_size pixels of movement.
WARNING: Range() can only be called once per pixel_increment_amount pixels.</p><h3 id="proc/pixel_move"><aside class="declaration">proc </aside>pixel_move<aside>(times, hitscanning, seconds_equivalent, trajectory_multiplier, allow_animation) 
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L605">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 605"/></a></aside>
        </h3>
        <p>The proc to make the projectile go, using a simulated pixel movement line trace.
Note: deciseconds_equivalent is currently only used for homing, times is the number of times to move pixel_increment_amount.
Trajectory multiplier directly modifies the factor of pixel_increment_amount to go per time.
It's complicated, so probably just don't mess with this unless you know what you're doing.</p><h3 id="proc/return_predicted_turf_after_moves"><aside class="declaration">proc </aside>return_predicted_turf_after_moves<aside>(moves, forced_angle) 
        
    
            <a href="https://github.com/lucincus/HuggleStation/blob/56440fde4ad96d8011d5608125659af88eae9ad6/code/modules/projectiles/projectile.dm#L448">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;projectiles&#x2F;projectile.dm 448"/></a></aside>
        </h3>
        <p>one move is a tile.</p></main>
<footer>
    HuggleStation.dme
    <a href="https://github.com/lucincus/HuggleStation/tree/56440fde4ad96d8011d5608125659af88eae9ad6">56440fd</a>
        (main) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.3.0</a></footer>
</body>
</html>
